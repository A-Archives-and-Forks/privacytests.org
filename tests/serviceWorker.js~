self.addEventListener('activate', function(event) {
  console.log('Claiming control');
  return self.clients.claim();
});

self.addEventListener("fetch", async (event) => {
  console.log("fetch received:", event);
  let clientList = await self.clients.matchAll();
  for (let client of clientList) {
    client.postMessage("Hello from service worker!");
  }
  event.respondWith(new Response("Hi there from service worker!"));
});

